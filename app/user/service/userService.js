const userService = {  //判断用户是否已注册  // true-已注册  // false-未注册  diffRegister(phone, cb) {    DB.sqlDB(`select * from user where phone='${phone}'`).then(function (userList) {      if (userList.length == 1) {        cb(true)      } else {        cb(false)      }    });  },  //注册  //status 0-注册成功 1-注册失败,账号已被注册 2-失败  register(phone, passWord, cb) {    this.diffRegister(phone, (bool) => {      if (bool) {        cb(1);      } else {        //注册        DB.sqlDB(`insert into user(phone,passWord) values('${phone}','${passWord}')`).then((data) => {          if (data.warningCount == 0) {            cb(0);          } else {            cb(2);          }        });      }    })  },  login(phone, passWord, cb) {    DB.sqlDB(`select * from user where phone='${phone}' and passWord='${passWord}'`).then(function (userList) {      if (userList.length == 1) {        cb(userList[0])      } else {        cb(false)      }    });  },  getUserInfo(phone,cb){    DB.sqlDB(`select * from user where phone='${phone}'`).then(function (userList) {      if (userList.length == 1) {        cb(userList[0])      } else {        cb(false)      }    });  },  // userInfo={}  setUserInfo(userInfo) {    let sql = `update user set ${Tools.getImplStr(userInfo)} where phone=${userInfo.phone}`;    DB.sqlDB(sql).then(function (obj) {      if (obj) {        DB.sqlDB(`select * from user where phone='${userInfo.phone}'`).then(function (userList) {          if (userList.length == 1) {            cb(userList[0])          } else {            cb(false)          }        });      } else {        cb(false)      }    });  },  //获取展开后的对象，{a:1,b:2}=>a=1,b=2  getImplStr(params) {    let str = '';    for (let key in params) {      str += ' ' + key + '=' + params[key] + ' ,';    }    return str?str.substring(0,str.length):'';  }}module.exports = userService